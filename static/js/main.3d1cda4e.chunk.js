(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{16:function(t,e,c){t.exports={mainHeader:"Header_mainHeader__e--XO",navigation:"Header_navigation__1NvSa",navigationActive:"Header_navigationActive__3jCK0"}},18:function(t,e,c){t.exports={homeList:"Home_homeList__3iehI",homeItem:"Home_homeItem__3w8D1",homeItemName:"Home_homeItemName__3p5BT",homeTitle:"Home_homeTitle__3teLG"}},41:function(t,e,c){},64:function(t,e,c){},65:function(t,e,c){"use strict";c.r(e);var a=c(0),n=c(1),i=c(34),s=c.n(i),r=(c(41),c(11)),o=c(12),j=c(14),h=c(13),u=c(2),l=c(5),b=c(15),m=c.n(b),d=function(){return m.a.get("https://api.themoviedb.org/3/trending/movie/day?api_key=784fa8d5feaa05d43277b9356f5f9153").then((function(t){return t.data.results}))},p=function(t){return m.a.get("https://api.themoviedb.org/3/search/movie?api_key=784fa8d5feaa05d43277b9356f5f9153&query=".concat(t,"&page=1")).then((function(t){return t.data.results}))},O=function(t){return m.a.get("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=784fa8d5feaa05d43277b9356f5f9153")).then((function(t){return t.data}))},f=function(t){return m.a.get("https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=784fa8d5feaa05d43277b9356f5f9153"))},v=function(t){return m.a.get("https://api.themoviedb.org/3/movie/".concat(t,"/reviews?api_key=784fa8d5feaa05d43277b9356f5f9153&language=en-US&page=1"))},x=c(18),g=c.n(x),_=function(t){Object(j.a)(c,t);var e=Object(h.a)(c);function c(){var t;Object(r.a)(this,c);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))).state={films:[]},t}return Object(o.a)(c,[{key:"componentDidMount",value:function(){var t=this;d().then((function(e){t.setState({films:e})}))}},{key:"render",value:function(){var t=this.state.films;this.props.match;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{className:g.a.homeTitle,children:"Popular films"}),Object(a.jsx)("ul",{className:g.a.homeList,children:t.map((function(t){return Object(a.jsxs)(l.c,{className:g.a.homeItem,to:{pathname:"/movies/".concat(t.id),state:{id:"".concat(t.id)}},children:[Object(a.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(t.poster_path),alt:t.title,width:"250px"}),Object(a.jsx)("h3",{className:g.a.homeItemName,children:t.title})]},t.id)}))})]})}}]),c}(n.Component),y=c(19),N=c(9),S=c(20),w=function(t){var e=t.id,c=(Object(S.a)(t,["id"]),Object(n.useState)([])),i=Object(N.a)(c,2),s=i[0],r=i[1];return Object(n.useEffect)((function(){f(e).then((function(t){r(t.data.cast)}))}),[]),Object(a.jsxs)("div",{className:"cast_box",children:[Object(a.jsx)("h1",{className:"cast_title",children:"Cast"}),Object(a.jsx)("ul",{className:"cast_list",children:s.map((function(t){return Object(a.jsxs)("li",{className:"cast_item",children:[Object(a.jsx)("img",{className:"cast_actor_photo",src:"https://image.tmdb.org/t/p/w200".concat(t.profile_path),alt:t.name}),Object(a.jsx)("h3",{className:"cast_actor_name",children:t.name})]},t.id)}))})]})},k=function(t){var e=t.id,c=(Object(S.a)(t,["id"]),Object(n.useState)([])),i=Object(N.a)(c,2),s=i[0],r=i[1];return Object(n.useEffect)((function(){v(e).then((function(t){return r(t.data.results)}))})),Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Reviews"}),Object(a.jsx)("ul",{children:s.length>0?s.map((function(t){return Object(a.jsxs)("li",{children:[Object(a.jsxs)("h4",{children:["Author: ",t.author]}),Object(a.jsx)("p",{children:t.content})]})})):Object(a.jsx)("p",{children:"Not found."})})]})},q=function(){var t=Object(n.useState)(""),e=Object(N.a)(t,2),c=e[0],i=e[1],s=Object(n.useState)({}),r=Object(N.a)(s,2),o=r[0],j=r[1],h=Object(n.useState)(""),b=Object(N.a)(h,2),m=b[0],d=b[1],p=Object(u.i)(),f=Object(u.g)(),v=Object(u.h)(),x=p.params.moviesId;return Object(n.useEffect)((function(){i(v.state.from),d(v.state.query),O(x).then((function(t){j(t)})).catch((function(t){return console.log(t)}))}),[]),Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{type:"button",onClick:function(){c?f.push({pathname:c,search:"query=".concat(m),query:m}):f.push("/")},children:"GoBack"}),Object(a.jsx)("hr",{}),Object(a.jsxs)("div",{children:[Object(a.jsx)("img",{src:"https://image.tmdb.org/t/p/w300".concat(o.poster_path)||!1,alt:"".concat(o.title)}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"".concat(o.title)}),Object(a.jsxs)("p",{children:["User score: ",o.popularity]}),Object(a.jsx)("p",{children:o.overview})]})]}),Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:Object(a.jsx)(l.b,{to:"".concat(p.url,"/cast"),children:"cast"})}),Object(a.jsx)("li",{children:Object(a.jsx)(l.b,{to:"".concat(p.url,"/reviews"),children:"reviews"})})]}),Object(a.jsx)(u.b,{path:"".concat(p.url,"/cast"),render:function(t){return Object(a.jsx)(w,Object(y.a)(Object(y.a)({},t),{},{id:x}))}}),Object(a.jsx)(u.b,{path:"".concat(p.url,"/reviews"),render:function(t){return Object(a.jsx)(k,Object(y.a)(Object(y.a)({},t),{},{id:x}))}})]})},H=function(t){Object(j.a)(c,t);var e=Object(h.a)(c);function c(){var t;Object(r.a)(this,c);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))).state={films:[],query:""},t.inputHeandler=function(e){var c=e.target;t.setState({query:c.value})},t.onSubmit=function(e){e.preventDefault(),p(t.state.query).then((function(e){t.setState({films:e})}))},t}return Object(o.a)(c,[{key:"componentDidMount",value:function(){var t=this;this.props.location.query&&p(this.props.location.query).then((function(e){t.setState({films:e,query:t.props.location.query})}))}},{key:"render",value:function(){var t=this,e=this.state,c=e.films,n=e.query,i=this.props.match;return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"MoviesPage"}),Object(a.jsxs)("form",{className:"SearchForm",onSubmit:this.onSubmit,children:[Object(a.jsx)("input",{onChange:this.inputHeandler,name:"search",value:n,className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies"}),Object(a.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(a.jsx)("span",{className:"SearchForm-button-label",children:"Search"})})]}),Object(a.jsx)("ul",{children:c.map((function(e){return Object(a.jsx)("li",{onClick:t.activeFilm,children:Object(a.jsxs)(l.b,{to:{pathname:"/movies/".concat(e.id),id:e.id,state:{from:"".concat(i.path),query:n}},children:[Object(a.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),alt:e.title}),Object(a.jsx)("h3",{"data-id":e.id,children:e.title})]})},e.id)}))})]})}}]),c}(n.Component),C=c(16),I=c.n(C),A=function(){return Object(a.jsxs)("div",{className:I.a.mainHeader,children:[Object(a.jsx)(l.c,{exact:!0,to:"/",className:I.a.navigation,activeClassName:I.a.navigationActive,children:"Home"}),Object(a.jsx)(l.c,{to:"/movies",className:I.a.navigation,activeClassName:I.a.navigationActive,children:"Movies"})]})},F=(c(64),function(t){Object(j.a)(c,t);var e=Object(h.a)(c);function c(){return Object(r.a)(this,c),e.apply(this,arguments)}return Object(o.a)(c,[{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(A,{}),Object(a.jsx)(n.Suspense,{children:Object(a.jsxs)(u.d,{children:[Object(a.jsx)(u.b,{exact:!0,path:"/",component:_}),Object(a.jsx)(u.b,{path:"/movies/:moviesId",component:q}),Object(a.jsx)(u.b,{path:"/movies",component:H}),Object(a.jsx)(u.a,{to:"/"})]})})]})}}]),c}(n.Component));s.a.render(Object(a.jsx)(l.a,{children:Object(a.jsx)(F,{})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.3d1cda4e.chunk.js.map